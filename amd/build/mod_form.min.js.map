{"version":3,"file":"mod_form.min.js","sources":["../src/mod_form.js"],"sourcesContent":["import VideoManager from 'mod_video/video_manager';\nimport VideoManagerModal from 'mod_video/video_manager_modal';\nimport ModalFactory from 'core/modal_factory';\nimport ModalEvents from 'core/modal_events';\nimport $ from 'jquery';\n\nexport function init(uniqueId) {\n    let videoManagerInstance = null;\n\n    ModalFactory.create({\n        type: VideoManagerModal.TYPE,\n        templateContext: { uniqueid: uniqueId },\n        large: true,\n    }, $('#id_searchvideos')).then(function (modal) {\n        modal.getRoot().on(ModalEvents.shown, function () {\n            if (!videoManagerInstance) {\n                videoManagerInstance = new VideoManager(uniqueId, {\n                    onVideoSelect: (selectedVideo) => {\n                        document.getElementById('id_videoid').value = selectedVideo.videoid;\n                        modal.hide();\n                    },\n                    debug: true}\n                );\n            }\n        });\n\n        modal.getRoot().on('click', '.close-button', () => {\n            modal.hide();\n        });\n    });\n}\n"],"names":["uniqueId","videoManagerInstance","create","type","VideoManagerModal","TYPE","templateContext","uniqueid","large","then","modal","getRoot","on","ModalEvents","shown","VideoManager","onVideoSelect","selectedVideo","document","getElementById","value","videoid","hide","debug"],"mappings":"kZAMqBA,cACbC,qBAAuB,4BAEdC,OAAO,CAChBC,KAAMC,6BAAkBC,KACxBC,gBAAiB,CAAEC,SAAUP,UAC7BQ,OAAO,IACR,mBAAE,qBAAqBC,MAAK,SAAUC,OACrCA,MAAMC,UAAUC,GAAGC,sBAAYC,OAAO,WAC7Bb,uBACDA,qBAAuB,IAAIc,uBAAaf,SAAU,CAC9CgB,cAAgBC,gBACZC,SAASC,eAAe,cAAcC,MAAQH,cAAcI,QAC5DX,MAAMY,QAEVC,OAAO,QAKnBb,MAAMC,UAAUC,GAAG,QAAS,iBAAiB,KACzCF,MAAMY"}