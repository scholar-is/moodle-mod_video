{"version":3,"file":"mod_form.min.js","sources":["../src/mod_form.js"],"sourcesContent":["import VideoManager from 'mod_video/video_manager';\nimport VideoManagerModal from 'mod_video/video_manager_modal';\nimport ModalFactory from 'core/modal_factory';\nimport ModalEvents from 'core/modal_events';\nimport $ from 'jquery';\n\n/**\n * Initialize functionality for module create/edit form.\n * @param uniqueId\n * @param videoSourceType\n * @param inputId\n * @param debug\n */\nexport function init(uniqueId, videoSourceType, inputId, debug) {\n    let videoManagerInstance = null;\n\n    ModalFactory.create({\n        type: VideoManagerModal.TYPE,\n        templateContext: { uniqueid: uniqueId },\n        large: true,\n    }, $(`#id_searchvideos_${videoSourceType}`)).then(function (modal) {\n        modal.getRoot().on(ModalEvents.shown, function () {\n            if (!videoManagerInstance) {\n                videoManagerInstance = new VideoManager(\n                    uniqueId,\n                    videoSourceType,\n                    {\n                        onVideoSelect: (selectedVideo) => {\n                            document.getElementById(inputId).value = selectedVideo.videoid;\n                            modal.hide();\n                        },\n                        debug,\n                    }\n                );\n            }\n        });\n\n        modal.getRoot().on('click', '.close-button', () => {\n            modal.hide();\n        });\n    });\n}\n"],"names":["uniqueId","videoSourceType","inputId","debug","videoManagerInstance","create","type","VideoManagerModal","TYPE","templateContext","uniqueid","large","then","modal","getRoot","on","ModalEvents","shown","VideoManager","onVideoSelect","selectedVideo","document","getElementById","value","videoid","hide"],"mappings":"kZAaqBA,SAAUC,gBAAiBC,QAASC,WACjDC,qBAAuB,4BAEdC,OAAO,CAChBC,KAAMC,6BAAkBC,KACxBC,gBAAiB,CAAEC,SAAUV,UAC7BW,OAAO,IACR,8CAAsBV,mBAAoBW,MAAK,SAAUC,OACxDA,MAAMC,UAAUC,GAAGC,sBAAYC,OAAO,WAC7Bb,uBACDA,qBAAuB,IAAIc,uBACvBlB,SACAC,gBACA,CACIkB,cAAgBC,gBACZC,SAASC,eAAepB,SAASqB,MAAQH,cAAcI,QACvDX,MAAMY,QAEVtB,MAAAA,YAMhBU,MAAMC,UAAUC,GAAG,QAAS,iBAAiB,KACzCF,MAAMY"}