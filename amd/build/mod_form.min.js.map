{"version":3,"file":"mod_form.min.js","sources":["../src/mod_form.js"],"sourcesContent":["import VideoManager from 'mod_video/video_manager';\nimport VideoManagerModal from 'mod_video/video_manager_modal';\nimport ModalFactory from 'core/modal_factory';\nimport ModalEvents from 'core/modal_events';\nimport $ from 'jquery';\n\nexport function init(uniqueId, videoSourceType, debug) {\n    let videoManagerInstance = null;\n\n    ModalFactory.create({\n        type: VideoManagerModal.TYPE,\n        templateContext: { uniqueid: uniqueId },\n        large: true,\n    }, $(`#id_searchvideos_${videoSourceType}`)).then(function (modal) {\n        modal.getRoot().on(ModalEvents.shown, function () {\n            if (!videoManagerInstance) {\n                videoManagerInstance = new VideoManager(\n                    uniqueId,\n                    videoSourceType,\n                    {\n                        onVideoSelect: (selectedVideo) => {\n                            document.getElementById('id_videoid').value = selectedVideo.videoid;\n                            modal.hide();\n                        },\n                        debug,\n                    }\n                );\n            }\n        });\n\n        modal.getRoot().on('click', '.close-button', () => {\n            modal.hide();\n        });\n    });\n}\n"],"names":["uniqueId","videoSourceType","debug","videoManagerInstance","create","type","VideoManagerModal","TYPE","templateContext","uniqueid","large","then","modal","getRoot","on","ModalEvents","shown","VideoManager","onVideoSelect","selectedVideo","document","getElementById","value","videoid","hide"],"mappings":"kZAMqBA,SAAUC,gBAAiBC,WACxCC,qBAAuB,4BAEdC,OAAO,CAChBC,KAAMC,6BAAkBC,KACxBC,gBAAiB,CAAEC,SAAUT,UAC7BU,OAAO,IACR,8CAAsBT,mBAAoBU,MAAK,SAAUC,OACxDA,MAAMC,UAAUC,GAAGC,sBAAYC,OAAO,WAC7Bb,uBACDA,qBAAuB,IAAIc,uBACvBjB,SACAC,gBACA,CACIiB,cAAgBC,gBACZC,SAASC,eAAe,cAAcC,MAAQH,cAAcI,QAC5DX,MAAMY,QAEVtB,MAAAA,YAMhBU,MAAMC,UAAUC,GAAG,QAAS,iBAAiB,KACzCF,MAAMY"}